{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "milestone-editorial-accordion",
  "type": "registry:ui",
  "title": "Milestone Editorial Accordion",
  "description": "Serif typography with percentage column and color-wash accordion.",
  "dependencies": [
    "motion",
    "clsx",
    "tailwind-merge"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "ui/milestone-editorial-accordion.tsx",
      "content": "\"use client\";\n\nimport { AnimatePresence, motion } from \"motion/react\";\nimport { useState } from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport interface Milestone {\n  id: string;\n  name: string;\n  emoji: string;\n  colorHex: string;\n  horizonLabel: string;\n  horizonShort: string;\n  targetDate: string | null;\n  progress: {\n    total: number;\n    completed: number;\n    inProgress: number;\n    percentage: number;\n  };\n}\n\nexport interface MilestoneEditorialAccordionProps {\n  milestones: Milestone[];\n  className?: string;\n}\n\nfunction ProgressBar({\n  percentage,\n  color,\n}: {\n  percentage: number;\n  color: string;\n}) {\n  return (\n    <div className=\"h-[3px] w-24 overflow-hidden rounded-full bg-muted/40\">\n      <motion.div\n        animate={{ width: `${percentage}%` }}\n        className=\"h-full rounded-full\"\n        initial={{ width: 0 }}\n        style={{ backgroundColor: color }}\n        transition={{ type: \"spring\", stiffness: 200, damping: 30 }}\n      />\n    </div>\n  );\n}\n\nfunction ProgressRing({\n  percentage,\n  size = 36,\n  strokeWidth = 3,\n  color,\n}: {\n  percentage: number;\n  size?: number;\n  strokeWidth?: number;\n  color: string;\n}) {\n  const radius = (size - strokeWidth) / 2;\n  const circumference = 2 * Math.PI * radius;\n  const offset = circumference - (percentage / 100) * circumference;\n  const center = size / 2;\n\n  return (\n    <div\n      className=\"relative inline-flex items-center justify-center\"\n      style={{ width: size, height: size }}\n    >\n      <svg\n        aria-hidden=\"true\"\n        height={size}\n        viewBox={`0 0 ${size} ${size}`}\n        width={size}\n      >\n        <circle\n          className=\"stroke-muted/30\"\n          cx={center}\n          cy={center}\n          fill=\"none\"\n          r={radius}\n          strokeWidth={strokeWidth}\n        />\n        <motion.circle\n          animate={{ strokeDashoffset: offset }}\n          cx={center}\n          cy={center}\n          fill=\"none\"\n          initial={{ strokeDashoffset: circumference }}\n          r={radius}\n          stroke={color}\n          strokeDasharray={circumference}\n          strokeLinecap=\"round\"\n          strokeWidth={strokeWidth}\n          style={{ rotate: \"-90deg\", transformOrigin: \"center\" }}\n          transition={{ type: \"spring\", stiffness: 120, damping: 20 }}\n        />\n      </svg>\n      <span className=\"pointer-events-none absolute inset-0 flex items-center justify-center font-semibold text-[10px] tabular-nums\">\n        {percentage}%\n      </span>\n    </div>\n  );\n}\n\nexport function MilestoneEditorialAccordion({\n  milestones,\n  className,\n}: MilestoneEditorialAccordionProps) {\n  const [openId, setOpenId] = useState<string | null>(null);\n\n  return (\n    <div\n      className={cn(\"w-full space-y-0 divide-y divide-border/40\", className)}\n    >\n      {milestones.map((m) => {\n        const isOpen = openId === m.id;\n        return (\n          <motion.div\n            animate={{\n              backgroundColor: isOpen ? `${m.colorHex}06` : \"transparent\",\n            }}\n            className=\"transition-colors\"\n            key={m.id}\n          >\n            <button\n              className=\"flex w-full items-center gap-4 px-4 py-3 text-left\"\n              onClick={() => setOpenId(isOpen ? null : m.id)}\n              type=\"button\"\n            >\n              <div className=\"w-12 shrink-0 text-right\">\n                <span\n                  className=\"font-mono text-base tabular-nums\"\n                  style={{ color: m.colorHex }}\n                >\n                  {m.progress.percentage}%\n                </span>\n              </div>\n              <div className=\"h-6 w-px bg-border\" />\n              <div className=\"min-w-0 flex-1\">\n                <h4 className=\"font-serif text-sm\">\n                  {m.emoji} {m.name}\n                </h4>\n                <p className=\"font-serif text-[10px] text-muted-foreground italic\">\n                  {m.horizonLabel}\n                  {m.targetDate ? ` \\u00B7 Due ${m.targetDate}` : \"\"}\n                </p>\n              </div>\n              <ProgressBar\n                color={m.colorHex}\n                percentage={m.progress.percentage}\n              />\n            </button>\n            <AnimatePresence>\n              {isOpen && (\n                <motion.div\n                  animate={{ height: \"auto\", opacity: 1 }}\n                  className=\"overflow-hidden\"\n                  exit={{ height: 0, opacity: 0 }}\n                  initial={{ height: 0, opacity: 0 }}\n                  transition={{ type: \"spring\", damping: 25, stiffness: 300 }}\n                >\n                  <div className=\"flex gap-4 px-4 pb-3 pl-20\">\n                    <ProgressRing\n                      color={m.colorHex}\n                      percentage={m.progress.percentage}\n                      size={40}\n                    />\n                    <div className=\"flex-1 text-muted-foreground text-xs\">\n                      <p className=\"font-serif italic\">\n                        {m.progress.completed} of {m.progress.total} complete,{\" \"}\n                        {m.progress.inProgress} underway\n                      </p>\n                    </div>\n                  </div>\n                </motion.div>\n              )}\n            </AnimatePresence>\n          </motion.div>\n        );\n      })}\n    </div>\n  );\n}\n",
      "type": "registry:ui",
      "target": "components/ui/milestone-editorial-accordion.tsx"
    }
  ],
  "meta": {
    "importSpecifier": "@/components/ui/milestone-editorial-accordion"
  }
}